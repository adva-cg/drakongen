Процедура "getToken"

Описание:
Obtains an access token. Connects to the dataverse if necessary.
Returns a JWT token as a string.
An empty return value means the user has cancelled the logon.

Parameters:

- context: ServerContext
- url: a string with the address of the dataverse instance


Алгоритм:
Find an existing connection in context.connections by URL

Если не (Connection found?)
    Create a new MSAL connection object.
    Use the following information to initialize the object:
    
    - context.config.redirectUri is the redirect URI
    - context.config.authority is the authority
    - context.config.clientId is the client id
    

    Put the connection in context.connections using the URL as the key.

Try to get an access token using the connection in non-interactive mode.

Если Got exception?
    Get a token in interactive mode.

    Если Did the user cancel the logon?
        Return an empty string

    Иначе
        Return the access token

Иначе
    Return the access token

Конец процедуры